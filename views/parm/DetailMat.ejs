<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="SHORTCUT ICON" href="\image\Dongguk.ico"/>
    <title>동국대학교 산학연계프로젝트</title>

    <!-- Bootstrap core CSS-->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template-->
    <link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template-->
    <link href="/css/sb-admin.css" rel="stylesheet">

    <!-- Date Picker -->
    <link rel="stylesheet" type="text/css" href="/public/css/datepicker3.css" />
    <script type="text/javascript" src="/public/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="/public/js/bootstrap-datepicker.kr.js"></script>
</head>


<!-- 메인 페이지 -->
<body class="fixed-nav sticky-footer bg-dark" id="page-top">
<!-- 네비게이션 바 불러오기 -->
<% include ../navBar.ejs %>

<!-- 메인 -->
<div class="content-wrapper">
    <!-- 메인 내용 -->
    <div class="container-fluid">
        <div class="mb-0 mt-4">
            <h6> 팜 관리 > 과제 보기</h6>
        </div>
        <hr class="mt-2">
        <div class="card mx-auto mt-5 mb-5">
            <div class="card-body">
                <div class ="form-row">
                    <h5> 과제 상세보기 </h5>
                </div>
                <% if(userInfo.userType == 'admin' && userInfo.userId == 'admin'|| userInfo.userId == ClassInfo[1][0].mat_registrant) { %>
                <form action="/parm/SetMat/<%=ClassInfo[1][0].mat_id%>" method="get" id="setting" onsubmit="return ;" />
                <%}%>
                <div class="table-responsive" >
                    <div id="dataTable_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4">
                        <div class="row">
                            <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                                <tbody id="dataTableTBody">
                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>과제 명</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_name%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>과제 카테고리</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_cat%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>과제 카테고리2</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_cat2%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>과제 카테고리3</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_cat3%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>기대 효과</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_comm%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>출판물</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_pub%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>url</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_url%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>pdf</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_pdf%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>최초작성인</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].std_name%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>추천인</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[1][0].mat_recom%></td>
                                </tr>



                                </tbody>
                            </table>
                        </div>


                            <div class = "form-group mt-4">
                                <div class="form-row">
                                    <div class = "col-md-4">
                                        <label> </label>
                                    </div>
                                    <% if(userInfo.userType == 'admin' && userInfo.userId == 'admin' || userInfo.userId == ClassInfo[1][0].mat_registrant) { %>

                                    <div class = "col-md-2">
                                        <center> <input type ="submit" class="btn btn-primary btn-block" name = "MakeProject" value="과제 수정" /> </center>
                                    </div>

                                    <%}%>
                                    <div class = "col-md-2">
                                        <center> <div class="btn btn-danger" name = "MakeProject" value="취소" onclick="CheckCancel();">취소</div> </center>
                                    </div>

                                    <div class = "col-md-2">
                                        <center> <div class="btn btn-primary btn-block" name = "MakeProject" value="해당 과제 추가" onclick="AddSubMat();">해당 과제 추가</div></center>
                                    </div>


                                </div>
                            </div>
                    </div>
                </div>
                <input id="origin_id" name="origin_id" type="hidden" value = "<%=ClassInfo[0].parm_id%>" >
                </form>
            </div>


        </div>

        <% for(var i = 0; i < ClassInfo[2].length; i++) { %>

            <div class="card mx-auto mt-5 mb-5">
            <div class="card-body">
                <div class ="form-row">
                    <h5> 상세 과제보기 </h5>
                </div>
                <% if(userInfo.userType == 'admin' && userInfo.userId == 'admin'|| userInfo.userId == ClassInfo[2][i].s_registrant) { %>
                <form action="/parm/SetSubMat/<%=ClassInfo[1][0].mat_id%>" method="get" id="setting" onsubmit="return ;" />
                <%}%>
                <div class="table-responsive" >
                    <div id="dataTable_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4">
                        <div class="row">
                            <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                                <tbody id="dataTableTBody">
                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>과제 명</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].s_name%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>기대 효과</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].s_comm%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>출판물</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].s_pub%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>url</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].s_url%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>pdf</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].s_pdf%></td>
                                </tr>

                                <tr role="row" class="odd">
                                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" style="width:20%;"><center>작성자</center></th>
                                    <td class="" colspan="2"><%=ClassInfo[2][i].std_name%></td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                        <% if(userInfo.userType == 'admin' && userInfo.userId == 'admin' || userInfo.userId == ClassInfo[2][i].s_registrant || userInfo.userType == 'instructor') { %>

                            <div class = "form-group mt-4">
                                <div class="form-row">
                                    <div class = "col-md-4">
                                        <label> </label>
                                    </div>

                                    <div class = "col-md-2">
                                        <center> <input type ="submit" class="btn btn-primary btn-block" name = "MakeProject" value="과제 수정" /> </center>
                                    </div>

                                    <div class = "col-md-2">
                                        <center> <div class="btn btn-danger" name = "MakeProject" value="취소" onclick="CheckCancel();">취소</div> </center>
                                    </div>

                                </div>
                            </div>
                        <%}%>
                    </div>
                </div>
                <input id="origin_id" name="origin_id" type="hidden" value = "<%=ClassInfo[0].parm_id%>" >
                </form>
            </div>


        </div>


        <% } %>
    </div>






    <!-- include footer -->
    <% include ../footer.html %>

    <!-- 맨위로 가기 버튼 -->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fa fa-angle-up"></i>
    </a>
</div>

<!-- Bootstrap core JavaScript-->
<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="/js/sb-admin.min.js"></script>


<script type="text/javascript">
    function CheckCancel(){
        window.location.href = "/parm/PARMMAIN?parm_id=<%= ClassInfo[1][0].parm_id %>"
    }
    function AddSubMat(){
        window.location.href = "/parm/AddSubMat/<%= ClassInfo[1][0].mat_id %>"
    }
</script>
</body>
</html>
